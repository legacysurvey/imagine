// These are from the IAU boundary definitions
// http://vizier.cfa.harvard.edu/viz-bin/VizieR-3?-source=VI/49/bound_20
// This is parallel to the constellation_shortnames array below.
// With patches for UMi, Oct from
// https://www.iau.org/public/themes/constellations/#umi
var constellation_boundaries = [
    // Aql
    [
        [ 280.350209,0.115489, 280.326232,2.115346, 284.576426,2.165905, 284.525985,6.415608, 281.458569,6.379194, 281.388045,12.128774, 284.456262,12.165196, 284.373636,18.664709, 286.375494,18.688223, 286.405477,16.355068, 298.921166,16.495729, 298.926000,16.079084, 303.558997,16.127516, 303.636675,8.877912, 306.013956,8.901824, 306.079101,2.402147, 309.579877,2.436087, 309.598846,0.436177, 309.684648,-8.563417, 301.693696,-8.643075, 301.726369,-11.676234, 284.744054,-11.866436, 284.647293,-3.833677, 280.398187,-3.884223, ],
    ],
    // And
    [
        [ 344.465304,35.168236, 344.342851,53.168030, 351.452894,53.187004, 351.465682,50.687019, 355.270557,50.692913, 355.276079,48.692917, 4.146367,48.694935, 4.143279,46.694935, 14.776077,46.675754, 14.788867,48.675739, 18.588408,48.663269, 18.605904,50.663235, 22.407936,50.647877, 26.968524,50.625744, 26.931439,47.625843, 32.621491,47.592751, 32.673801,51.092583, 39.885479,51.042374, 39.679341,37.293156, 31.871091,37.347084, 31.854251,35.597138, 22.910835,35.645336, 22.897426,33.645370, 12.443064,33.681896, 12.413491,24.431932, 14.424064,24.426624, 14.414816,21.676638, 3.739921,21.695192, 3.740644,22.695192, 2.610016,22.695759, 2.612842,28.695759, 1.606216,28.696035, 1.606977,32.029365, 357.828741,32.028503, 357.828082,32.778507, 354.049158,32.774647, 354.044179,35.191311, ],
    ],
    // Scl
    [
        [ 346.680966,-24.825045, 359.110564,-24.804201, 26.458889,-24.872909, 26.350728,-39.372623, 351.692704,-39.312759, 351.683377,-36.312767, 346.727514,-36.324974, ],
    ],
    // Ara
    [
        [ 249.034681,-60.264458, 248.570624,-45.767052, 269.809284,-45.516346, 272.309017,-45.485973, 272.672253,-56.983772, 265.168189,-57.074776, 265.775729,-67.571106, 258.242482,-67.661087, 255.724983,-67.690582, 255.542392,-65.191643, 254.283514,-65.206253, 254.195137,-63.790093, 251.676321,-63.818996, 251.537847,-61.236458, 249.081630,-61.264195, ],
    ],
    // Lib
    [
        [ 227.853012,-0.474289, 221.603092,-0.526939, 221.667108,-8.526685, 215.408506,-8.573134, 215.513091,-22.572775, 215.533691,-25.072702, 225.576554,-24.995110, 225.630769,-29.994879, 236.929980,-29.889616, 236.813064,-20.390202, 240.571776,-20.351618, 240.437279,-8.352324, 240.386954,-3.602587, 227.881951,-3.724160, ],
    ],
    // Cet
    [
        [ 6.601329,0.692540, 6.603787,2.692538, 31.615266,2.597881, 31.665247,10.514395, 50.946411,10.363207, 50.852984,0.446972, 50.836683,-1.302952, 41.339221,-1.221027, 41.148759,-23.853603, 26.465999,-23.756258, 26.458889,-24.872909, 359.110564,-24.804201, 359.103299,-6.304202, 6.592702,-6.307455, ],
    ],
    // Ari
    [
        [ 31.665247,10.514395, 26.655734,10.543240, 26.744674,25.626335, 30.513711,25.605070, 30.530616,27.855019, 38.070149,27.804764, 38.103194,31.221315, 42.628380,31.186502, 52.426668,31.100361, 52.290622,19.434334, 51.037234,19.446114, 50.946411,10.363207, ],
    ],
    // Sct
    [
        [ 275.549526,-15.943572, 284.793720,-15.832812, 284.744054,-11.866436, 284.647293,-3.833677, 280.398187,-3.884223, 275.399122,-3.944483, ],
    ],
    // Pyx
    [
        [ 126.927094,-17.411257, 130.184340,-17.442471, 130.163512,-19.442373, 137.684970,-19.508831, 137.636776,-24.508631, 141.904335,-24.542519, 141.771599,-37.292015, 126.677799,-37.160038, ],
    ],
    // Boo
    [
        [ 227.781486,7.525393, 204.063849,7.360577, 204.028931,14.360494, 203.953872,27.860313, 210.788827,27.897652, 210.770859,30.147596, 211.888934,30.154539, 211.698732,47.903938, 211.584391,54.903576, 217.251249,54.942238, 229.591054,55.044865, 229.657374,52.545174, 237.084474,52.617477, 237.124586,51.117680, 237.365427,39.618908, 232.643652,39.572113, 232.746978,32.572613, 229.015919,32.537678, 229.099516,25.538057, 227.605491,25.524611, ],
    ],
    // Cae
    [
        [ 65.076412,-39.700729, 64.882386,-48.699665, 68.362248,-48.738449, 68.424096,-46.238796, 73.402083,-46.295902, 73.482371,-42.796368, 75.974444,-42.825550, 76.254937,-27.077204, 73.759296,-27.047979, 71.763331,-27.024877, 71.722419,-29.774643, 69.976651,-29.754660, 69.862376,-36.754005, 65.129850,-36.701023, ],
    ],
    // Cha
    [
        [ 111.652114,-82.775886, 209.111109,-83.120071, 207.781434,-75.623596, 169.856973,-75.684013, 135.243687,-75.495468, 114.214704,-75.289917, ],
    ],
    // Cnc
    [
        [ 140.404259,6.470069, 122.921391,6.630238, 120.548343,6.654985, 120.580672,9.654814, 118.832489,9.673426, 118.871606,13.173217, 118.947544,19.672808, 120.070124,19.660820, 120.171646,27.660282, 121.915969,27.641914, 121.993231,33.141514, 140.645985,32.969116, ],
    ],
    // Cap
    [
        [ 309.684648,-8.563417, 301.693696,-8.643075, 301.726369,-11.676234, 301.915969,-27.641914, 306.897956,-27.591339, 321.831636,-27.459667, 321.807776,-24.959761, 329.770289,-24.904041, 329.656162,-8.404400, 321.668415,-8.460295, 321.716451,-14.460111, 309.743901,-14.563136, ],
    ],
    // Car
    [
        [ 170.155921,-57.184345, 166.337256,-57.174442, 133.323656,-56.973972, 133.380174,-54.974220, 127.567119,-54.920471, 127.609291,-53.420677, 123.320116,-53.378220, 123.381129,-51.128529, 120.861697,-51.102585, 90.748902,-50.754547, 90.693705,-52.504211, 93.194354,-52.534576, 93.107400,-55.034050, 98.114276,-55.094559, 97.995078,-58.093842, 103.011117,-58.153702, 102.703314,-64.151878, 136.094727,-64.499039, 135.243687,-75.495468, 169.856973,-75.684013, 170.084811,-64.684265, ],
    ],
    // Cas
    [
        [ 344.342851,53.168030, 344.304027,56.917961, 344.269124,59.751232, 348.859664,59.764675, 348.816491,63.681290, 355.217571,63.692879, 355.197859,66.692871, 6.763764,66.692444, 6.922914,77.692345, 55.308749,77.416313, 54.237034,68.421440, 49.395457,68.466286, 48.900930,57.468498, 38.762337,57.551300, 38.802356,59.051155, 30.795626,59.104610, 30.773624,58.104675, 27.595222,58.122719, 27.533641,54.622883, 22.456014,54.647770, 22.407936,50.647877, 18.605904,50.663235, 18.588408,48.663269, 14.788867,48.675739, 14.776077,46.675754, 4.143279,46.694935, 4.146367,48.694935, 355.276079,48.692917, 355.270557,50.692913, 351.465682,50.687019, 351.452894,53.187004, ],
    ],
    // Cen
    [
        [ 166.479363,-35.674656, 166.456504,-40.424622, 166.337256,-57.174442, 170.155921,-57.184345, 170.084811,-64.684265, 179.057364,-64.695785, 179.070768,-55.695793, 194.334511,-55.677105, 194.438381,-64.676964, 204.680286,-64.637940, 220.514974,-64.539024, 220.234466,-55.540089, 214.656816,-55.579952, 214.450264,-42.580647, 225.796279,-42.494175, 225.630769,-29.994879, 190.417399,-30.186390, 190.427199,-33.686378, 185.387434,-33.693893, 185.390296,-35.693890, ],
    ],
    // Cep
    [
        [ 300.573262,59.851078, 300.485201,61.850620, 306.811867,61.914379, 306.517381,67.412956, 310.334014,67.449028, 309.573041,75.445526, 301.873398,75.370873, 300.673800,80.364777, 313.705874,80.486786, 308.720970,86.465622, 308.331356,86.630630, 343.510666,86.836891, 339.260988,88.663887, 135.832471,87.568916, 130.402751,86.097542, 127.953615,84.610375, 84.536118,85.123947, 80.488894,80.147850, 57.530490,80.398666, 56.726209,77.402596, 55.308749,77.416313, 6.922914,77.692345, 6.763764,66.692444, 355.197859,66.692871, 355.217571,63.692879, 348.816491,63.681290, 348.859664,59.764675, 344.269124,59.751232, 344.304027,56.917961, 335.910930,56.882576, 335.931301,55.632626, 333.137626,55.617844, 333.174676,53.367943, 330.639210,53.353271, 330.602189,55.436489, 309.831361,55.275326, 309.623794,61.357697, 308.660804,61.348644, 308.716593,59.932240, ],
    ],
    // Com
    [
        [ 179.604536,13.304049, 179.608941,28.304047, 181.595664,28.303963, 181.594506,33.303963, 186.554261,33.307430, 186.557694,31.307434, 200.207748,31.343737, 200.226574,27.843775, 203.953872,27.860313, 204.028931,14.360494, 194.059066,14.322509, 194.062027,13.322513, ],
    ],
    // Cvn
    [
        [ 181.594506,33.303963, 181.591416,44.303963, 182.826434,44.304336, 182.818522,52.304336, 203.742399,52.359806, 203.795114,47.859928, 211.698732,47.903938, 211.888934,30.154539, 210.770859,30.147596, 210.788827,27.897652, 203.953872,27.860313, 200.226574,27.843775, 200.207748,31.343737, 186.557694,31.307434, 186.554261,33.307430, ],
    ],
    // Aur
    [
        [ 69.486937,30.921875, 69.573841,36.254715, 72.457344,36.221851, 72.840285,52.719647, 77.484762,52.665554, 77.606764,56.164833, 94.131089,55.965809, 94.057366,53.966255, 100.046031,53.893829, 99.919459,49.894588, 104.406359,49.841003, 104.265303,44.341839, 112.734124,44.243549, 112.560719,35.244530, 100.090276,35.390564, 99.965658,27.891312, 90.221071,28.009291, 90.228903,28.509243, 73.212476,28.712440, 73.235343,30.212309, 69.476789,30.255260, ],
    ],
    // Col
    [
        [ 75.974444,-42.825550, 76.254937,-27.077204, 92.992566,-27.278799, 92.899068,-33.028233, 99.903859,-33.112816, 99.708916,-43.111649, 90.951777,-43.005779, ],
    ],
    // Cir
    [
        [ 204.680286,-64.637940, 204.707479,-65.637878, 207.268023,-65.624954, 207.460871,-70.624443, 224.166441,-70.511543, 224.003634,-68.012207, 226.557126,-67.990929, 226.353536,-64.075127, 230.166579,-64.041565, 230.054569,-61.458748, 232.589764,-61.435307, 232.549867,-60.435493, 232.381911,-55.436283, 228.083511,-55.475494, 220.234466,-55.540089, 220.514974,-64.539024, ],
    ],
    // Crt
    [
        [ 162.827139,-6.662179, 162.807914,-11.662143, 162.775541,-19.662083, 164.030586,-19.666622, 164.008083,-25.166582, 179.091311,-25.195795, 179.096760,-11.695797, 179.098606,-6.695797, 174.342299,-6.691692, ],
    ],
    // CrA
    [
        [ 269.625464,-37.017460, 289.596319,-36.778565, 289.769640,-45.277565, 272.309017,-45.485973, 269.809284,-45.516346, ],
    ],
    // CrB
    [
        [ 229.099516,25.538057, 229.015919,32.537678, 232.746978,32.572613, 232.643652,39.572113, 237.365427,39.618908, 246.071949,39.711720, 246.279802,26.712872, 243.786706,26.685524, 243.800182,25.685595, 241.805734,25.664141, ],
    ],
    // Crv
    [
        [ 194.133052,-11.677388, 179.096760,-11.695797, 179.091311,-25.195795, 190.404525,-25.186401, 190.398502,-22.686409, 194.166870,-22.677342, ],
    ],
    // Cru
    [
        [ 179.070768,-55.695793, 179.057364,-64.695785, 194.438381,-64.676964, 194.334511,-55.677105, ],
    ],
    // Cyg
    [
        [ 290.132646,27.732408, 290.095252,30.232197, 291.598777,30.249315, 291.492604,36.748714, 292.119656,36.755802, 291.983527,43.755035, 288.470307,43.714939, 288.375521,47.714394, 287.120647,47.699867, 286.876459,55.698448, 291.904593,55.756004, 291.809550,58.255470, 297.100554,58.313873, 297.039241,59.813541, 300.573262,59.851078, 308.716593,59.932240, 308.660804,61.348644, 309.623794,61.357697, 309.831361,55.275326, 330.602189,55.436489, 330.639210,53.353271, 330.762663,44.603645, 329.878606,44.598251, 329.881639,44.348263, 329.376641,44.345120, 329.461012,36.595383, 327.319965,36.581547, 327.395181,28.581795, 322.620164,28.548054, 315.083914,28.487188, 315.072584,29.487139, 296.250944,29.301058, 296.272201,27.801174, ],
    ],
    // Del
    [
        [ 309.579877,2.436087, 306.079101,2.402147, 306.013956,8.901824, 303.636675,8.877912, 303.558997,16.127516, 305.186949,16.143963, 305.134049,20.893700, 309.896937,20.939947, 309.907665,19.939997, 317.178783,20.004641, 317.248364,12.338261, 314.618596,12.315764, 314.671096,6.482664, 314.045505,6.477161, 314.081097,2.477318, ],
    ],
    // Dor
    [
        [ 58.318788,-52.796844, 60.797896,-52.822811, 60.692919,-56.155586, 65.650462,-56.209385, 65.554590,-58.708855, 69.274534,-58.750664, 68.794019,-67.247925, 68.581524,-69.746719, 98.454423,-70.104134, 98.937249,-64.107025, 90.173643,-64.001053, 90.345061,-61.002098, 82.857614,-60.911289, 83.018804,-57.412262, 75.547743,-57.323040, 75.677017,-53.823803, 68.217746,-53.737637, 68.362248,-48.738449, 64.882386,-48.699665, 62.149908,-48.669972, 62.098639,-50.669701, 58.377166,-50.630478, ],
    ],
    // Dra
    [
        [ 140.615474,72.974136, 142.191195,81.467766, 163.105416,81.339607, 162.818598,79.340179, 174.531584,79.308342, 174.434796,76.308411, 195.820612,76.328911, 196.097474,69.329361, 210.650811,69.399117, 210.820556,65.399651, 235.329566,65.602348, 235.050630,69.600944, 247.841062,69.738304, 247.220707,74.734787, 261.536637,74.903313, 260.217904,79.895348, 267.656021,79.985748, 261.722231,85.949570, 308.720970,86.465622, 313.705874,80.486786, 300.673800,80.364777, 301.873398,75.370873, 309.573041,75.445526, 310.334014,67.449028, 306.517381,67.412956, 306.811867,61.914379, 300.485201,61.850620, 300.573262,59.851078, 297.039241,59.813541, 297.100554,58.313873, 291.809550,58.255470, 291.904593,55.756004, 286.876459,55.698448, 287.120647,47.699867, 274.342376,47.547604, 274.257689,50.547089, 255.786352,50.324444, 255.756826,51.324268, 237.124586,51.117680, 237.084474,52.617477, 229.657374,52.545174, 229.591054,55.044865, 217.251249,54.942238, 217.045254,62.441482, 203.573641,62.359398, 203.550539,63.359344, 181.581559,63.303963, 181.579256,65.803963, 171.849346,65.812607, 171.961369,72.812500, ],
    ],
    // Nor
    [
        [ 232.549867,-60.435493, 249.034681,-60.264458, 248.570624,-45.767052, 248.494777,-42.267479, 242.152806,-42.336678, 237.124586,-42.388638, 237.247281,-48.388023, 232.207246,-48.437107, 232.353372,-54.436417, 228.056716,-54.475617, 228.083511,-55.475494, 232.381911,-55.436283, ],
    ],
    // Eri
    [
        [ 55.352906,0.403726, 70.852361,0.237501, 71.602314,0.228916, 71.556359,-3.770820, 77.804396,-3.843729, 77.720031,-10.843229, 75.221751,-10.813805, 75.178714,-14.313553, 73.929798,-14.298972, 73.759296,-27.047979, 71.763331,-27.024877, 71.722419,-29.774643, 69.976651,-29.754660, 69.862376,-36.754005, 65.129850,-36.701023, 65.076412,-39.700729, 59.105884,-39.636826, 59.031364,-43.636440, 52.326772,-43.569405, 52.289002,-45.569221, 46.090771,-45.512478, 46.034514,-48.512234, 41.085309,-48.471004, 41.047694,-50.470860, 37.341210,-50.442570, 37.283346,-53.442356, 33.584144,-53.416470, 33.489424,-57.916157, 21.206229,-57.848415, 21.273262,-52.848560, 24.967354,-52.865856, 24.993847,-50.865921, 28.693257,-50.885922, 28.738323,-47.552723, 36.152947,-47.600494, 36.264014,-39.434216, 46.187261,-39.512898, 46.193322,-39.096256, 53.644284,-39.165096, 53.699606,-35.582035, 57.430512,-35.619244, 57.588901,-24.003378, 41.148759,-23.853603, 41.339221,-1.221027, 50.836683,-1.302952, 55.335582,-1.346189, ],
    ],
    // Sge
    [
        [ 284.373636,18.664709, 284.339133,21.247835, 290.096311,21.314816, 290.121288,19.398298, 298.885689,19.495539, 298.860255,21.578733, 305.125409,21.643656, 305.134049,20.893700, 305.186949,16.143963, 303.558997,16.127516, 298.926000,16.079084, 298.921166,16.495729, 286.405477,16.355068, 286.375494,18.688223, ],
    ],
    // For
    [
        [ 26.465999,-23.756258, 41.148759,-23.853603, 57.588901,-24.003378, 57.430512,-35.619244, 53.699606,-35.582035, 53.644284,-39.165096, 46.193322,-39.096256, 46.187261,-39.512898, 36.264014,-39.434216, 26.350728,-39.372623, 26.458889,-24.872909, ],
    ],
    // Gem
    [
        [ 96.372764,11.933297, 96.443917,17.432865, 95.069576,17.449507, 95.124127,21.449177, 90.125156,21.509872, 90.144037,22.843086, 90.221071,28.009291, 99.965658,27.891312, 100.090276,35.390564, 112.560719,35.244530, 118.289709,35.181053, 118.258080,33.181229, 121.993231,33.141514, 121.915969,27.641914, 120.171646,27.660282, 120.070124,19.660820, 118.947544,19.672808, 118.871606,13.173217, 114.252727,13.223806, 114.241004,12.223872, 106.748227,12.309598, 106.717879,9.809775, 105.718459,9.821487, 105.742815,11.821345, ],
    ],
    // Cam
    [
        [ 94.131089,55.965809, 77.606764,56.164833, 77.484762,52.665554, 72.840285,52.719647, 52.313086,52.936607, 52.381901,55.436283, 49.854022,55.459652, 49.913496,57.459385, 48.900930,57.468498, 49.395457,68.466286, 54.237034,68.421440, 55.308749,77.416313, 56.726209,77.402596, 57.530490,80.398666, 80.488894,80.147850, 84.536118,85.123947, 127.953615,84.610375, 130.402751,86.097542, 213.022957,85.930809, 216.782856,79.444984, 203.809189,79.362930, 204.157019,76.363815, 195.820612,76.328911, 174.434796,76.308411, 174.531584,79.308342, 162.818598,79.340179, 163.105416,81.339607, 142.191195,81.467766, 140.615474,72.974136, 123.086229,73.138374, 122.129101,59.643398, 107.753197,59.803726, 107.851552,61.803146, 94.407456,61.964127, ],
    ],
    // CMa
    [
        [ 93.215625,-11.030153, 111.973399,-11.252145, 111.677199,-33.250469, 99.903859,-33.112816, 92.899068,-33.028233, 92.992566,-27.278799, ],
    ],
    // UMa
    [
        [ 145.709238,41.431675, 139.512491,41.478596, 139.590711,46.478279, 128.440104,46.577728, 128.799134,59.575989, 122.129101,59.643398, 123.086229,73.138374, 140.615474,72.974136, 171.961369,72.812500, 171.849346,65.812607, 181.579256,65.803963, 181.581559,63.303963, 203.550539,63.359344, 203.573641,62.359398, 217.045254,62.441482, 217.251249,54.942238, 211.584391,54.903576, 211.698732,47.903938, 203.795114,47.859928, 203.742399,52.359806, 182.818522,52.304336, 182.826434,44.304336, 181.591416,44.303963, 181.594506,33.303963, 181.595664,28.303963, 179.608941,28.304047, 166.693998,28.325026, 166.714226,33.324993, 163.489409,33.335678, 163.523169,39.335613, 154.359412,39.377411, 154.378224,41.377361, ],
    ],
    // Gru
    [
        [ 321.928053,-36.459297, 322.042321,-44.958858, 322.117366,-49.458572, 331.998825,-49.391174, 332.113695,-56.390835, 351.768522,-56.312687, 351.692704,-39.312759, 351.683377,-36.312767, 346.727514,-36.324974, ],
    ],
    // Her
    [
        [ 245.558595,3.703381, 242.809668,3.673514, 242.676630,15.672800, 240.181074,15.646335, 240.111007,21.645968, 241.856576,21.664411, 241.805734,25.664141, 243.800182,25.685595, 243.786706,26.685524, 246.279802,26.712872, 246.071949,39.711720, 237.365427,39.618908, 237.124586,51.117680, 255.756826,51.324268, 255.786352,50.324444, 274.257689,50.547089, 274.342376,47.547604, 273.466874,47.536987, 273.824386,30.039156, 276.700773,30.073977, 276.762886,26.074350, 284.269867,26.164097, 284.277162,25.664141, 284.339133,21.247835, 284.373636,18.664709, 284.456262,12.165196, 281.388045,12.128774, 275.203084,12.054331, 275.173274,14.387479, 260.176878,14.206035, 260.195847,12.706148, 252.701482,12.617938, 252.805909,3.785211, ],
    ],
    // Hor
    [
        [ 65.076412,-39.700729, 64.882386,-48.699665, 62.149908,-48.669972, 62.098639,-50.669701, 58.377166,-50.630478, 58.318788,-52.796844, 53.365002,-52.747078, 53.236816,-57.079784, 48.791131,-57.037785, 48.362689,-67.035820, 33.202361,-66.915192, 33.489424,-57.916157, 33.584144,-53.416470, 37.283346,-53.442356, 37.341210,-50.442570, 41.047694,-50.470860, 41.085309,-48.471004, 46.034514,-48.512234, 46.090771,-45.512478, 52.289002,-45.569221, 52.326772,-43.569405, 59.031364,-43.636440, 59.105884,-39.636826, ],
    ],
    // Hya
    [
        [ 122.849007,-0.369390, 122.921391,6.630238, 140.404259,6.470069, 145.398417,6.432767, 145.348906,-0.567059, 145.270272,-11.566781, 162.807914,-11.662143, 162.775541,-19.662083, 164.030586,-19.666622, 164.008083,-25.166582, 179.091311,-25.195795, 190.404525,-25.186401, 190.398502,-22.686409, 194.166870,-22.677342, 215.513091,-22.572775, 215.533691,-25.072702, 225.576554,-24.995110, 225.630769,-29.994879, 190.417399,-30.186390, 190.427199,-33.686378, 185.387434,-33.693893, 185.390296,-35.693890, 166.479363,-35.674656, 163.958516,-35.666496, 163.977885,-31.833201, 160.201379,-31.818586, 160.212894,-29.818613, 155.181327,-29.794784, 155.199337,-27.128162, 147.659283,-27.083504, 147.679681,-24.583571, 141.904335,-24.542519, 137.636776,-24.508631, 137.684970,-19.508831, 130.163512,-19.442373, 130.184340,-17.442471, 126.927094,-17.411257, 126.989779,-11.411565, 122.734179,-11.368799, ],
    ],
    // Hyi
    [
        [ 68.794019,-67.247925, 68.581524,-69.746719, 67.957485,-74.743164, 52.075782,-74.574127, 50.091656,-82.064453, 1.533391,-81.803955, 1.566297,-74.303963, 12.332437,-74.318573, 12.295414,-75.318527, 20.654051,-75.347221, 21.206229,-57.848415, 33.489424,-57.916157, 33.202361,-66.915192, 48.362689,-67.035820, ],
    ],
    // Ind
    [
        [ 323.184757,-74.454468, 351.997833,-74.312462, 351.861391,-66.812599, 332.398567,-66.889992, 332.113695,-56.390835, 331.998825,-49.391174, 322.117366,-49.458572, 322.042321,-44.958858, 307.169295,-45.090000, 307.458801,-56.588577, 307.564801,-59.588055, 322.348651,-59.457684, ],
    ],
    // Lac
    [
        [ 329.461012,36.595383, 329.376641,44.345120, 329.881639,44.348263, 329.878606,44.598251, 330.762663,44.603645, 330.639210,53.353271, 333.174676,53.367943, 333.137626,55.617844, 335.931301,55.632626, 335.910930,56.882576, 344.304027,56.917961, 344.342851,53.168030, 344.465304,35.168236, 343.709193,35.165615, 343.706532,35.665611, 331.359558,35.606934, 331.350461,36.606907, ],
    ],
    // Mon
    [
        [ 95.225681,-0.053710, 95.348031,9.945548, 96.347666,9.933448, 96.372764,11.933297, 105.742815,11.821345, 105.718459,9.821487, 106.717879,9.809775, 106.664322,5.310089, 106.914274,5.307168, 106.867396,1.307442, 109.616919,1.275572, 109.599666,-0.224329, 122.849007,-0.369390, 122.734179,-11.368799, 111.973399,-11.252145, 93.215625,-11.030153, 88.965791,-10.978532, 89.052372,-3.979057, 95.177142,-4.053416, ],
    ],
    // Lep
    [
        [ 73.759296,-27.047979, 76.254937,-27.077204, 92.992566,-27.278799, 93.215625,-11.030153, 88.965791,-10.978532, 77.720031,-10.843229, 75.221751,-10.813805, 75.178714,-14.313553, 73.929798,-14.298972, ],
    ],
    // Leo
    [
        [ 162.849712,-0.662221, 162.876019,6.337730, 145.398417,6.432767, 140.404259,6.470069, 140.645985,32.969116, 150.084386,32.902279, 150.042344,27.902409, 159.238401,27.852917, 159.210877,22.852978, 162.942539,22.837605, 162.951494,24.837589, 166.680937,24.825045, 166.693998,28.325026, 179.608941,28.304047, 179.604536,13.304049, 179.603734,10.304049, 174.365688,10.308291, 174.350524,-0.691698, 174.342299,-6.691692, 162.827139,-6.662179, ],
    ],
    // Lup
    [
        [ 214.656816,-55.579952, 220.234466,-55.540089, 228.083511,-55.475494, 228.056716,-54.475617, 232.353372,-54.436417, 232.207246,-48.437107, 237.247281,-48.388023, 237.124586,-42.388638, 242.152806,-42.336678, 241.947699,-29.837763, 236.929980,-29.889616, 225.630769,-29.994879, 225.796279,-42.494175, 214.450264,-42.580647, ],
    ],
    // Lyn
    [
        [ 112.560719,35.244530, 112.734124,44.243549, 104.265303,44.341839, 104.406359,49.841003, 99.919459,49.894588, 100.046031,53.893829, 94.057366,53.966255, 94.131089,55.965809, 94.407456,61.964127, 107.851552,61.803146, 107.753197,59.803726, 122.129101,59.643398, 128.799134,59.575989, 128.440104,46.577728, 139.590711,46.478279, 139.512491,41.478596, 145.709238,41.431675, 145.681972,39.181767, 140.721631,39.218819, 140.645985,32.969116, 121.993231,33.141514, 118.258080,33.181229, 118.289709,35.181053, ],
    ],
    // Lyr
    [
        [ 284.277162,25.664141, 284.269867,26.164097, 276.762886,26.074350, 276.700773,30.073977, 273.824386,30.039156, 273.466874,47.536987, 274.342376,47.547604, 287.120647,47.699867, 288.375521,47.714394, 288.470307,43.714939, 291.983527,43.755035, 292.119656,36.755802, 291.492604,36.748714, 291.598777,30.249315, 290.095252,30.232197, 290.132646,27.732408, 290.161314,25.732574, ],
    ],
    // Ant
    [
        [ 141.904335,-24.542519, 141.771599,-37.292015, 141.734061,-40.291874, 166.456504,-40.424622, 166.479363,-35.674656, 163.958516,-35.666496, 163.977885,-31.833201, 160.201379,-31.818586, 160.212894,-29.818613, 155.181327,-29.794784, 155.199337,-27.128162, 147.659283,-27.083504, 147.679681,-24.583571, ],
    ],
    // Mic
    [
        [ 306.897956,-27.591339, 321.831636,-27.459667, 321.928053,-36.459297, 322.042321,-44.958858, 307.169295,-45.090000, ],
    ],
    // Mus
    [
        [ 170.084811,-64.684265, 169.856973,-75.684013, 207.781434,-75.623596, 207.460871,-70.624443, 207.268023,-65.624954, 204.707479,-65.637878, 204.680286,-64.637940, 194.438381,-64.676964, 179.057364,-64.695785, ],
    ],
    // Oct
    [
        //[ 1.533391,-81.803955, 50.091655,-82.064453, 48.232920,-84.555382, 109.019709,-85.261444, 111.652115,-82.775886, 209.111109,-83.120071, 276.865998,-82.458275, 274.195060,-74.974518, 323.184757,-74.454468, 351.997833,-74.312462, 1.566306,-74.303963, ],
        // Hand-edited and WRONG
        [ 0., -90., 0.,-81.803955,
          1.533391,-81.803955, 50.091655,-82.064453, 48.232920,-84.555382, 109.019709,-85.261444, 111.652115,-82.775886, 209.111109,-83.120071, 276.865998,-82.458275, 274.195060,-74.974518, 323.184757,-74.454468, 351.997833,-74.312462, //1.566306,-74.303963,
          359.999999,-74.303963,
          359.999999,-90.0,
        ],
    ],
    // Aps
    [
        [ 209.111109,-83.120071, 276.865998,-82.458275, 274.195061,-74.974518, 273.280077,-67.480080, 265.775729,-67.571106, 258.242482,-67.661087, 258.470679,-70.159744, 224.166441,-70.511543, 207.460871,-70.624443, 207.781434,-75.623596, ],
    ],
    // Oph
    [
        [ 245.602627,-0.296377, 245.558595,3.703381, 252.805909,3.785211, 252.701482,12.617938, 260.195847,12.706148, 260.176878,14.206035, 275.173274,14.387479, 275.203084,12.054331, 281.388045,12.128774, 281.458569,6.379194, 275.274611,6.304763, 275.296011,4.554893, 277.921056,4.586618, 277.939224,3.086727, 275.314236,3.055003, 275.350599,0.055224, 269.101038,-0.020647, 269.149704,-4.020351, 271.149674,-3.996055, 271.223716,-9.995605, 266.723757,-10.050234, 266.744700,-11.716777, 265.494404,-11.731914, 265.473491,-10.065370, 259.222069,-10.140438, 259.297428,-16.139990, 265.800191,-16.061882, 266.001836,-30.060663, 253.235349,-30.212309, 253.155671,-24.796097, 245.891446,-24.878118, 245.822984,-19.545166, 247.450676,-19.527155, 247.438230,-18.527226, 245.810681,-18.545235, 245.691204,-8.295890, 240.437279,-8.352324, 240.386954,-3.602587, 245.638389,-3.546180, ],
    ],
    // Ori
    [
        [ 70.852361,0.237501, 71.034029,15.736463, 76.288926,15.675535, 76.295279,16.175499, 81.798712,16.110105, 81.792232,15.610145, 85.793646,15.561920, 85.755057,12.562155, 88.255369,12.531851, 88.327167,18.031416, 87.326982,18.043549, 87.393794,22.876472, 90.144037,22.843086, 90.125156,21.509872, 95.124127,21.449177, 95.069576,17.449507, 96.443917,17.432865, 96.372764,11.933297, 96.347666,9.933448, 95.348031,9.945548, 95.225681,-0.053710, 95.177142,-4.053416, 89.052372,-3.979057, 88.965791,-10.978532, 77.720031,-10.843229, 77.804396,-3.843729, 71.556359,-3.770820, 71.602314,0.228916, ],
    ],
    // Pav
    [
        [ 274.195061,-74.974518, 323.184757,-74.454468, 322.348651,-59.457684, 307.564801,-59.588055, 307.458801,-56.588577, 272.672253,-56.983772, 265.168189,-57.074776, 265.775729,-67.571106, 273.280077,-67.480080, ],
    ],
    // Peg
    [
        [ 321.583471,2.539380, 321.501102,13.039063, 318.244515,13.013201, 318.250264,12.346555, 317.248364,12.338261, 317.178783,20.004641, 320.188409,20.029081, 320.151701,24.028936, 322.662019,24.048210, 322.620164,28.548054, 327.395181,28.581795, 327.319965,36.581547, 329.461012,36.595383, 331.350461,36.606907, 331.359558,35.606934, 343.706532,35.665611, 343.709193,35.165615, 344.465304,35.168236, 354.044179,35.191311, 354.049158,32.774647, 357.828082,32.778507, 357.828741,32.028503, 1.606977,32.029365, 1.606216,28.696035, 2.612842,28.695759, 2.610016,22.695759, 3.740644,22.695192, 3.739921,21.695192, 3.734118,13.195194, 1.603174,13.196035, 1.602731,10.696035, 359.097119,10.695797, 359.098034,8.195797, 342.821416,8.162168, 342.842217,2.662207, 331.587267,2.607607, 331.588755,2.357612, 326.587086,2.325691, 326.580219,3.325668, 323.578749,3.304391, 323.584271,2.554411, ],
    ],
    // Pic
    [
        [ 90.951777,-43.005779, 75.974444,-42.825550, 73.482371,-42.796368, 73.402083,-46.295902, 68.424096,-46.238796, 68.362248,-48.738449, 68.217746,-53.737637, 75.677017,-53.823803, 75.547743,-57.323040, 83.018804,-57.412262, 82.857614,-60.911289, 90.345061,-61.002098, 90.173643,-64.001053, 98.937249,-64.107025, 102.703314,-64.151878, 103.011117,-58.153702, 97.995078,-58.093842, 98.114276,-55.094559, 93.107400,-55.034050, 93.194354,-52.534576, 90.693705,-52.504211, 90.748902,-50.754547, ],
    ],
    // Per
    [
        [ 42.628380,31.186502, 42.666468,34.519676, 40.402383,34.537514, 40.434659,37.287388, 39.679341,37.293156, 39.885479,51.042374, 32.673801,51.092583, 32.621491,47.592751, 26.931439,47.625843, 26.968524,50.625744, 22.407936,50.647877, 22.456014,54.647770, 27.533641,54.622883, 27.595222,58.122719, 30.773624,58.104675, 30.795626,59.104610, 38.802356,59.051155, 38.762337,57.551300, 48.900930,57.468498, 49.913496,57.459385, 49.854022,55.459652, 52.381901,55.436283, 52.313086,52.936607, 72.840285,52.719647, 72.457344,36.221851, 69.573841,36.254715, 69.486937,30.921875, 52.426668,31.100361, ],
    ],
    // Equ
    [
        [ 314.081097,2.477318, 314.045505,6.477161, 314.671096,6.482664, 314.618596,12.315764, 317.248364,12.338261, 318.250264,12.346555, 318.244515,13.013201, 321.501102,13.039063, 321.583471,2.539380, ],
    ],
    // CMi
    [
        [ 122.849007,-0.369390, 109.599666,-0.224329, 109.616919,1.275572, 106.867396,1.307442, 106.914274,5.307168, 106.664322,5.310089, 106.717879,9.809775, 106.748227,12.309598, 114.241004,12.223872, 114.252727,13.223806, 118.871606,13.173217, 118.832489,9.673426, 120.580672,9.654814, 120.548343,6.654985, 122.921391,6.630238, ],
    ],
    // LMi
    [
        [ 140.645985,32.969116, 140.721631,39.218819, 145.681972,39.181767, 145.709238,41.431675, 154.378224,41.377361, 154.359412,39.377411, 163.523169,39.335613, 163.489409,33.335678, 166.714226,33.324993, 166.693998,28.325026, 166.680937,24.825045, 162.951494,24.837589, 162.942539,22.837605, 159.210877,22.852978, 159.238401,27.852917, 150.042344,27.902409, 150.084386,32.902279, ],
    ],
    // Vul
    [
        [ 284.339133,21.247835, 284.277162,25.664141, 290.161314,25.732574, 290.132646,27.732408, 296.272201,27.801174, 296.250944,29.301058, 315.072584,29.487139, 315.083914,28.487188, 322.620164,28.548054, 322.662019,24.048210, 320.151701,24.028936, 320.188409,20.029081, 317.178783,20.004641, 309.907665,19.939997, 309.896937,20.939947, 305.134049,20.893700, 305.125409,21.643656, 298.860255,21.578733, 298.885689,19.495539, 290.121288,19.398298, 290.096311,21.314816, ],
    ],
    // UMi
    [
        [ 195.820612,76.328911, 196.097474,69.329361, 210.650811,69.399117, 210.820555,65.399651, 235.329565,65.602348, 235.050630,69.600944, 247.841063,69.738304, 247.220708,74.734787, 261.536637,74.903313, 260.217905,79.895348, 267.656020,79.985748, 261.722230,85.949570, 308.720970,86.465622, 308.331355,86.630630, 343.510666,86.836891, 339.260988,88.663887, 135.832471,87.568916, 130.402750,86.097542, 213.022958,85.930809, 216.782856,79.444984, 203.809190,79.362930, 204.157019,76.363815, ],
    ],
    // Phe
    [
        [ 351.692704,-39.312759, 351.768522,-56.312687, 351.778394,-57.812679, 21.206229,-57.848415, 21.273262,-52.848560, 24.967354,-52.865856, 24.993847,-50.865921, 28.693257,-50.885922, 28.738323,-47.552723, 36.152947,-47.600494, 36.264014,-39.434216, 26.350728,-39.372623, ],
    ],
    // Psc
    [
        [ 342.849712,0.662221, 342.842217,2.662207, 342.821416,8.162168, 359.098034,8.195797, 359.097119,10.695797, 1.602731,10.696035, 1.603174,13.196035, 3.734118,13.195194, 3.739921,21.695192, 14.414816,21.676638, 14.424064,24.426624, 12.413491,24.431932, 12.443064,33.681896, 22.897426,33.645370, 22.866420,28.645439, 26.764710,28.626282, 26.744674,25.626335, 26.655734,10.543240, 31.665247,10.514395, 31.615266,2.597881, 6.603787,2.692538, 6.601329,0.692540, 6.592702,-6.307455, 359.103299,-6.304202, 359.102211,-3.304202, 342.864704,-3.337751, ],
    ],
    // PsA
    [
        [ 346.680966,-24.825045, 329.770289,-24.904041, 321.807776,-24.959761, 321.831636,-27.459667, 321.928053,-36.459297, 346.727514,-36.324974, ],
    ],
    // Vol
    [
        [ 98.937249,-64.107025, 98.454423,-70.104134, 97.770709,-75.100037, 114.214704,-75.289917, 135.243687,-75.495468, 136.094727,-64.499039, 102.703314,-64.151878, ],
    ],
    // Pup
    [
        [ 111.973399,-11.252145, 111.677199,-33.250469, 99.903859,-33.112816, 99.708916,-43.111649, 90.951777,-43.005779, 90.748902,-50.754547, 120.861697,-51.102585, 121.038279,-43.353504, 126.572313,-43.409519, 126.677799,-37.160038, 126.927094,-17.411257, 126.989779,-11.411565, 122.734179,-11.368799, ],
    ],
    // Ret
    [
        [ 48.362689,-67.035820, 68.794019,-67.247925, 69.274534,-58.750664, 65.554590,-58.708855, 65.650462,-56.209385, 60.692919,-56.155586, 60.797896,-52.822811, 58.318788,-52.796844, 53.365002,-52.747078, 53.236816,-57.079784, 48.791131,-57.037785, ],
    ],
    // Sgr
    [
        [ 284.744054,-11.866436, 284.793720,-15.832812, 275.549526,-15.943572, 265.800191,-16.061882, 266.001836,-30.060663, 269.502811,-30.018208, 269.625464,-37.017460, 289.596319,-36.778565, 289.769640,-45.277565, 307.169295,-45.090000, 306.897956,-27.591339, 301.915969,-27.641914, 301.726369,-11.676234, ],
    ],
    // Sco
    [
        [ 240.437279,-8.352324, 245.691204,-8.295890, 245.810681,-18.545235, 247.438230,-18.527226, 247.450676,-19.527155, 245.822984,-19.545166, 245.891446,-24.878118, 253.155671,-24.796097, 253.235349,-30.212309, 266.001836,-30.060663, 269.502811,-30.018208, 269.625464,-37.017460, 269.809284,-45.516346, 248.570624,-45.767052, 248.494777,-42.267479, 242.152806,-42.336678, 241.947699,-29.837763, 236.929980,-29.889616, 236.813064,-20.390202, 240.571776,-20.351618, ],
    ],
    // Ser
    [
        [ 227.853012,-0.474289, 227.781486,7.525393, 227.605491,25.524611, 229.099516,25.538057, 241.805734,25.664141, 241.856576,21.664411, 240.111007,21.645968, 240.181074,15.646335, 242.676630,15.672800, 242.809668,3.673514, 245.558595,3.703381, 245.602627,-0.296377, 245.638389,-3.546180, 240.386954,-3.602587, 227.881951,-3.724160, ],
        [ 275.350599,0.055224, 275.314236,3.055003, 277.939224,3.086727, 277.921056,4.586618, 275.296011,4.554893, 275.274611,6.304763, 281.458569,6.379194, 284.525985,6.415608, 284.576426,2.165905, 280.326232,2.115346, 280.350209,0.115489, 280.398187,-3.884223, 275.399122,-3.944483, 275.549526,-15.943572, 265.800191,-16.061882, 259.297428,-16.139990, 259.222069,-10.140438, 265.473491,-10.065370, 265.494404,-11.731914, 266.744700,-11.716777, 266.723757,-10.050234, 271.223716,-9.995605, 271.149674,-3.996055, 269.149704,-4.020351, 269.101038,-0.020647, ],
    ],
    // Sextans
    [
        [ 145.348906,-0.567059, 145.398417,6.432767, 162.876019,6.337730, 162.849712,-0.662221, 162.827139,-6.662179, 162.807914,-11.662143, 145.270272,-11.566781, ],
    ],
    // Men
    [
        [ 109.019709,-85.261444, 48.232920,-84.555382, 50.091656,-82.064453, 52.075782,-74.574127, 67.957485,-74.743164, 68.581524,-69.746719, 98.454423,-70.104134, 97.770709,-75.100037, 114.214704,-75.289917, 111.652114,-82.775886, ],
    ],
    // Tau
    [
        [ 50.836683,-1.302952, 50.852984,0.446972, 50.946411,10.363207, 51.037234,19.446114, 52.290622,19.434334, 52.426668,31.100361, 69.486937,30.921875, 69.476789,30.255260, 73.235343,30.212309, 73.212476,28.712440, 90.228903,28.509243, 90.221071,28.009291, 90.144037,22.843086, 87.393794,22.876472, 87.326982,18.043549, 88.327167,18.031416, 88.255369,12.531851, 85.755057,12.562155, 85.793646,15.561920, 81.792232,15.610145, 81.798712,16.110105, 76.295279,16.175499, 76.288926,15.675535, 71.034029,15.736463, 70.852361,0.237501, 55.352906,0.403726, 55.335582,-1.346189, ],
    ],
    // Tel
    [
        [ 307.458801,-56.588577, 307.169295,-45.090000, 289.769640,-45.277565, 272.309017,-45.485973, 272.672253,-56.983772, ],
    ],
    // Tuc
    [
        [ 351.997833,-74.312462, 1.566297,-74.303963, 12.332437,-74.318573, 12.295414,-75.318527, 20.654051,-75.347221, 21.206229,-57.848415, 351.778394,-57.812679, 351.768522,-56.312687, 332.113695,-56.390835, 332.398567,-66.889992, 351.861391,-66.812599, ],
    ],
    // Tri
    [
        [ 26.744674,25.626335, 26.764710,28.626282, 22.866420,28.645439, 22.897426,33.645370, 22.910835,35.645336, 31.854251,35.597138, 31.871091,37.347084, 39.679341,37.293156, 40.434659,37.287388, 40.402383,34.537514, 42.666468,34.519676, 42.628380,31.186502, 38.103194,31.221315, 38.070149,27.804764, 30.530616,27.855019, 30.513711,25.605070, ],
    ],
    // Tra
    [
        [ 224.166441,-70.511543, 224.003634,-68.012207, 226.557126,-67.990929, 226.353536,-64.075127, 230.166579,-64.041565, 230.054569,-61.458748, 232.589764,-61.435307, 232.549867,-60.435493, 249.034681,-60.264458, 249.081630,-61.264195, 251.537847,-61.236458, 251.676321,-63.818996, 254.195137,-63.790093, 254.283514,-65.206253, 255.542392,-65.191643, 255.724983,-67.690582, 258.242482,-67.661087, 258.470679,-70.159744, ],
    ],
    // Aqr
    [
        [ 309.598846,0.436177, 309.579877,2.436087, 314.081097,2.477318, 321.583471,2.539380, 323.584271,2.554411, 323.578749,3.304391, 326.580219,3.325668, 326.587086,2.325691, 331.588755,2.357612, 331.587267,2.607607, 342.842217,2.662207, 342.849712,0.662221, 342.864704,-3.337751, 359.102211,-3.304202, 359.103299,-6.304202, 359.110564,-24.804201, 346.680966,-24.825045, 329.770289,-24.904041, 329.656162,-8.404400, 321.668415,-8.460295, 321.716451,-14.460111, 309.743901,-14.563136, 309.684648,-8.563417, ],
    ],
    // Vir
    [
        [ 174.350524,-0.691698, 174.365688,10.308291, 179.603734,10.304049, 179.604536,13.304049, 194.062027,13.322513, 194.059066,14.322509, 204.028931,14.360494, 204.063849,7.360577, 227.781486,7.525393, 227.853012,-0.474289, 221.603092,-0.526939, 221.667108,-8.526685, 215.408506,-8.573134, 215.513091,-22.572775, 194.166870,-22.677342, 194.133052,-11.677388, 179.096760,-11.695797, 179.098606,-6.695797, 174.342299,-6.691692, ],
    ],
    // Vel
    [
        [ 166.337256,-57.174442, 166.456504,-40.424622, 141.734061,-40.291874, 141.771599,-37.292015, 126.677799,-37.160038, 126.572313,-43.409519, 121.038279,-43.353504, 120.861697,-51.102585, 123.381129,-51.128529, 123.320116,-53.378220, 127.609291,-53.420677, 127.567119,-54.920471, 133.380174,-54.974220, 133.323656,-56.973972, ],
    ],
];


// These are from Astrometry.net's stellarium_constellations.c

var constellation_shortnames =  [ "Aql","And","Scl","Ara","Lib","Cet","Ari","Sct","Pyx","Boo","Cae","Cha","Cnc","Cap","Car","Cas","Cen","Cep","Com","Cvn","Aur","Col","Cir","Crt","CrA","CrB","Crv","Cru","Cyg","Del","Dor","Dra","Nor","Eri","Sge","For","Gem","Cam","CMa","UMa","Gru","Her","Hor","Hya","Hyi","Ind","Lac","Mon","Lep","Leo","Lup","Lyn","Lyr","Ant","Mic","Mus","Oct","Aps","Oph","Ori","Pav","Peg","Pic","Per","Equ","CMi","LMi","Vul","UMi","Phe","Psc","PsA","Vol","Pup","Ret","Sgr","Sco","Ser","Sex","Men","Tau","Tel","Tuc","Tri","Tra","Aqr","Vir","Vel" ];

var constellation_longnames = [ "Aquila", "Andromeda", "Sculptor", "Ara", "Libra", "Cetus", "Aries", "Scutum", "Pyxis", "Bootes", "Caelum", "Chamaeleon", "Cancer", "Capricornus", "Carina", "Cassiopeia", "Centaurus", "Cepheus", "Coma Berenices", "Canes Venatici", "Auriga", "Columba", "Circinus", "Crater", "Corona Austrina", "Corona Borealis", "Corvus", "Crux", "Cygnus", "Delphinus", "Dorado", "Draco", "Norma", "Eridanus", "Sagitta", "Fornax", "Gemini", "Camelopardalis", "Canis Major", "Ursa Major", "Grus", "Hercules", "Horologium", "Hydra", "Hydrus", "Indus", "Lacerta", "Monoceros", "Lepus", "Leo", "Lupus", "Lynx", "Lyra", "Antlia", "Microscopium", "Musca", "Octans", "Apus", "Ophiuchus", "Orion", "Pavo", "Pegasus", "Pictor", "Perseus", "Equuleus", "Canis Minor", "Leo Minor", "Vulpecula", "Ursa Minor", "Phoenix", "Pisces", "Piscis Austrinus", "Volans", "Puppis", "Reticulum", "Sagittarius", "Scorpius", "Serpens", "Sextans", "Mensa", "Taurus", "Telescopium", "Tucana", "Triangulum", "Triangulum Australe", "Aquarius", "Virgo", "Vela" ];

//'","'.join(['#%02x%02x%02x' % (x[0],x[1],x[2]) for x in (np.random.randint(128, size=(88,3))+128)])
var constellation_colors = ["#90d581","#e1f093","#d18693","#f5ea94","#96d495","#93abaf","#d49eac","#b2f9b1","#ab9cd5","#e4a9dc","#bfa6d1","#b2faee","#eaa8cb","#8d82aa","#96cfde","#f7a5f2","#e5d6cf","#d5f483","#8785d4","#87f3b7","#fea7b4","#b4f0b2","#ce84c7","#bdf3b8","#aa9898","#8cbc91","#dcecd5","#c4c5ee","#deb7e4","#efed9c","#b0d4eb","#b9e9d9","#b4c3c6","#92c0a6","#d8fe84","#bfc4d3","#89a3f0","#c2c19c","#b384f9","#fdb1cc","#beb4d2","#b1bcf3","#bfeca9","#f4b2b1","#9492e0","#efd590","#90b6c2","#d19a81","#c6d781","#def7cd","#9cd581","#ab8199","#d0fdd4","#b9b4d3","#f6cdde","#85aeba","#cb9ad3","#81859d","#cedf93","#95f495","#aabeba","#c5f5a6","#aca4b3","#a2e0ab","#8c8bc5","#dceac2","#f4ddcd","#d0c785","#d5f58a","#c5fafe","#a595be","#e6f6ab","#e2eddf","#96f4b8","#fea5a2","#aaf3e3","#9da4a5","#dff99b","#f3c1ce","#b484c4","#9cf6d4","#c2c6bc","#8ff5a7","#9d8be4","#9e9ac3","#f5eb99","#d3d9d2","#f6cff3"];

var constellation_lines = [
    [582,579,579,576,579,568,568,580,591,580,568,555,555,551,568,556],
    [0,11,11,24,47,24,24,17,17,15],
    [685,18,18,681,681,685],
    [516,496,496,480,480,475,475,494,494,491,491,490,490,516],
    [444,432,432,419,419,412,412,416,416,432],
    [50,57,35,13,13,4,13,23,23,27,27,37,37,55,55,62,62,68,68,59,59,35,53,62,53,61,61,67,67,78,78,77,77,69,69,57,57,60,60,67],
    [72,48,48,43,43,39],
    [537,538,538,542,542,529,529,531,531,537],
    [256,261,261,267],
    [404,395,395,408,408,418,418,415,415,400,400,399,399,395,395,387,387,384],
    [120,126,126,127],
    [248,314,314,352],
    [264,260,260,249,260,262,262,247,262,269],
    [592,593,593,611,611,619,619,625,625,630,619,622,622,611,593,603,611,608],
    [277,302,302,316,316,317,317,325,325,321,321,311,311,305,305,279,258,250,250,197,276,279,276,258,197,203,250,242],
    [42,28,28,16,16,12,12,1],
    [403,391,391,382,382,388,388,389,389,386,386,385,385,380,380,377,385,393,386,401,401,414,388,365,365,356,356,346,346,335,335,336],
    [642,666,666,623,623,617,617,642,666,686,686,623],
    [374,375,375,355],
    [362,371],
    [180,179,179,148,148,140,140,138,153,138,153,180],
    [193,190,190,177,177,171,171,178,171,163,163,155],
    [406,425,406,420],
    [322,327,327,332,332,330,330,322,330,331,331,337,337,345,345,338,338,332],
    [534,546,546,549,549,557,557,560,560,561,561,559,559,553,553,545,534,530],
    [428,427,427,429,429,434,434,439,439,447,447,451],
    [359,357,357,351,351,348,348,347,348,363,363,357],
    [358,354,368,349],
    [563,570,570,575,575,594,594,600,594,604,604,613,613,627,594,583,583,571],
    [596,597,597,599,599,605,605,601,601,597],
    [166,173,173,159,159,166,159,121,121,111],
    [511,513,513,492,492,498,498,511,511,562,562,578,578,522,522,482,482,462,462,452,452,426,426,392,392,361,361,333],
    [456,460,460,463,463,453,453,460,453,456],
    [33,44,44,52,52,56,56,64,64,66,66,76,76,87,87,99,99,101,101,113,113,116,116,122,122,97,97,92,92,86,86,79,79,70,70,75,75,85,85,91,91,94,94,124,124,130,130,134,134,142,142,143,143,125],
    [574,577,577,573,577,584,584,589],
    [71,84],
    [202,219,219,228,228,227,227,206,228,235,235,239,235,240,235,230,230,222,222,234,222,210,222,204,204,199,204,195,195,189,189,183],
    [90,104,104,136,90,102,102,136,102,151],
    [211,218,218,213,213,205,205,217,217,220,220,224,224,229,215,216,216,220,216,212,212,201,201,200,201,194,201,205,215,208,192,215,213,211],
    [383,378,378,369,369,350,350,324,324,323,323,344,344,350,344,341,341,326,326,306,326,308,323,293,293,288,288,273,288,270,293,291,291,253,253,286,286,324],
    [675,650,650,638,638,659,659,677,677,675,659,672,659,664,638,635,635,632],
    [503,512,512,489,489,487,487,486,486,471,471,467,467,459,459,443,471,470,470,465,465,461,470,481,481,493,493,485,508,514,514,517,514,508,481,486],
    [109,65,65,80],
    [259,255,255,254,254,265,265,266,266,259,266,268,268,278,278,287,287,284,284,283,283,292,292,301,301,309,309,319,319,334,334,343,343,373,373,376],
    [7,98,98,63,63,54,54,45],
    [618,598,598,609,609,618],
    [643,652,652,651,651,648,648,647,647,654,654,651],
    [188,198,198,223,223,196,196,186,223,245,245,237],
    [184,176,176,167,167,158,158,145,158,172,172,165,165,154,154,141,158,154,145,149,145,146,141,145,146,144,149,150],
    [342,329,329,300,300,297,297,307,307,328,328,342,307,304,304,294,294,290,328,329],
    [442,455,455,449,449,442,449,431,431,423,423,424,423,413,431,433,433,417,417,405,417,402,405,397,405,413],
    [281,280,280,274,274,271,271,251,251,231,231,214,214,191],
    [532,535,535,539,539,550,550,541,541,535],
    [310,296],
    [616,610,610,607],
    [367,339,339,360,360,364,364,367],
    [626,661,661,398,398,626],
    [410,466,466,472],
    [500,506,483,506,500,479,479,458,458,469,469,483,483,495],
    [164,161,161,157,182,187,187,185,185,174,187,181,181,175,175,164,164,169,169,147,147,157,157,152,152,160,160,175,152,131,131,133,133,135,135,139,131,132,132,137,185,181],
    [595,621,621,602,602,590,590,595,590,586,586,533,533,547,547,590,547,540,540,524,524,518,518,540,518,507],
    [3,674,673,660,660,639,673,667,667,662,662,637,637,629,674,663,663,658,658,641,641,628,0,673,0,3],
    [207,170,170,168],
    [96,103,103,107,107,105,105,93,93,88,88,81,81,74,88,83,83,82,82,73],
    [612,614,614,620,620,615,615,612],
    [236,232],
    [320,312,312,298,298,289,298,320],
    [569,587],
    [58,497,497,473,473,435,435,457,457,422,422,411,411,435],
    [22,21,21,8,8,22,21,31,31,41,41,21,21,29,29,8,8,9,9,2,2,8],
    [19,25,19,26,26,25,25,32,32,36,36,46,46,40,40,34,34,30,30,20,20,14,14,6,6,689,689,687,687,688,688,683,683,679,679,684,684,687],
    [671,657,657,633,633,631,631,640,640,655,655,670],
    [238,221,221,244,244,238,244,225,244,252,252,272,272,244],
    [243,241,241,226,226,203,203,209,209,233,233,242,242,243],
    [110,112,112,106,106,95,95,110],
    [521,527,520,525,525,515,515,509,515,521,521,525,525,552,552,536,536,521,536,527,527,519,552,558,558,543,543,536,543,548,548,554,554,564,564,565,558,572,572,588,588,585,585,581,581,567,581,566],
    [499,505,505,510,510,501,501,484,484,478,478,477,477,476,476,468,468,464,464,450,464,448,464,454],
    [440,441,441,436,436,430,430,437,437,446,446,438,438,437,544,523,523,504,504,502,502,488],
    [313,299],
    [156,129],
    [153,128,128,118,123,162,114,115,114,108,108,89,123,118,123,119,119,114,118,117,117,115,115,100],
    [528,526],
    [645,680,680,5,680,10],
    [51,49,49,38,38,51],
    [474,421,421,445,445,474],
    [624,634,634,646,646,649,649,656,656,668,668,678,678,682,634,644,644,636,644,653,653,665,665,669,669,676,606,624],
    [340,353,353,366,366,379,379,394,394,396,396,407,379,381,381,390,390,409,381,370,370,372,370,366],
    [246,257,257,263,263,282,282,295,295,318,318,315,315,303,303,285,285,275,275,246]];

var constellation_stars = [2.09654,29.0908,2.29204,59.1502,2.35225,-45.747,3.30896,15.1836,4.857,-8.82383,5.00796,-64.8776,5.14942,8.19025,6.41333,-77.255,6.5505,-43.6799,6.57029,-42.3051,7.88567,-62.9581,9.83167,30.8612,10.1266,56.5374,10.8968,-17.9867,12.0722,7.29992,12.4535,41.0789,14.1771,60.7168,14.1879,38.4992,14.6515,-29.3575,15.7045,31.8043,15.7361,7.89008,16.5213,-46.7185,17.0961,-55.2458,17.1469,-10.1819,17.4325,35.6208,18.4373,24.5838,19.8666,27.2641,21.006,-8.18275,21.4525,60.2354,22.0914,-43.3177,22.5456,6.14394,22.8124,-49.0731,22.8708,15.3458,24.4281,-57.2367,25.358,5.48761,26.0214,-15.9396,26.3483,9.15764,27.865,-10.3349,28.2704,29.5794,28.3824,19.2941,28.3889,3.18747,28.4117,-46.3024,28.5987,63.6701,28.6598,20.8083,28.9868,-51.6096,29.6911,-61.5699,30.5117,2.76375,30.9747,42.3299,31.7929,23.4628,32.3855,34.9874,33.25,8.84675,33.9846,33.359,34.1271,-51.5121,34.8366,-2.97706,35.4376,-68.6594,36.4875,-12.2904,36.7462,-47.7038,37.0397,8.46008,37.9462,89.2641,38.022,-15.2443,38.9687,5.59331,39.8706,0.328528,39.8905,-11.8716,39.8968,-68.2669,39.9497,-42.8916,40.1649,-54.5499,40.1664,-39.8553,40.8255,3.23617,41.0306,-13.8587,41.2349,10.1142,41.2749,-18.5726,42.2723,-32.4063,42.4958,27.2608,42.6455,38.3189,42.6741,55.8955,44.1067,-8.89761,44.5655,-40.3047,44.9287,8.90739,45.5938,4.35286,45.5983,-23.6243,45.9038,-59.7376,46.1991,53.5064,46.2938,38.8405,47.0422,40.9556,48.0178,-28.9891,48.9585,-8.81983,49.879,-21.7579,49.9717,-43.0716,51.0806,49.8613,51.2035,9.02906,52.2672,59.9403,53.2351,-9.45831,53.4469,-21.6328,55.7312,47.7877,55.8123,-9.76519,56.0481,-64.8071,56.0797,32.2883,56.7125,-23.2484,56.8093,-74.2393,57.1493,-37.6201,57.2905,24.0535,57.3637,-36.2001,57.5895,71.3324,58.533,31.8837,59.356,63.0723,59.4634,40.0103,59.6864,-61.4001,59.7412,35.791,60.1701,12.4904,63.5003,-42.2939,63.606,-62.474,64.0062,-51.4871,64.1212,-59.3018,64.4734,-33.7983,64.948,15.6277,65.7335,17.5426,66.009,-34.017,66.3722,17.928,67.1539,19.1805,67.1653,15.8709,67.7087,-44.9538,68.4988,-55.045,68.8878,-30.5623,68.98,16.5098,69.0797,-3.35244,69.5453,-14.3036,70.1409,-41.8636,70.5144,-37.1448,70.5613,22.957,70.7665,-70.9311,71.3756,-3.25461,72.4589,6.96125,72.653,8.90025,72.8015,5.60511,73.2237,-5.45275,73.3448,2.50828,73.5125,66.3427,73.7237,10.1511,74.2484,33.1661,74.6371,1.71403,75.6195,41.0759,76.3652,-22.3709,76.9626,-5.08625,77.2866,-8.75408,78.0745,-11.8691,78.2328,-16.2054,78.3079,-12.9413,78.6345,-8.20164,79.1721,45.999,79.8939,-13.1768,79.996,-12.3156,80.6407,79.2308,81.2828,6.34972,81.5729,28.6079,82.0614,-20.7592,82.8031,-35.4704,82.9694,-76.3417,83.0017,-0.299083,83.1825,-17.8223,83.4063,-62.4899,83.7845,9.93417,84.0534,-1.20192,84.4112,21.1426,84.9123,-34.0741,85.1897,-1.94258,86.1165,-22.4475,86.1934,-65.7355,86.739,-14.8219,86.8212,-51.0667,86.9391,-9.66961,87.4566,-56.1665,87.7398,-35.7693,87.8298,-20.8775,88.5246,-63.091,88.5962,20.2764,88.7929,7.40703,89.1013,-14.168,89.3842,-35.2833,89.7866,-42.8151,89.8824,44.9474,89.9302,37.2128,90.5958,9.64736,90.864,19.6906,91.0301,23.2636,91.5389,-14.9353,91.893,14.7685,92.2412,2.49972,92.985,14.2088,93.7139,-6.27472,93.7196,22.5068,94.1381,-35.1407,94.9058,59.0109,95.0783,-30.0634,95.5285,-33.4363,95.675,-17.9559,95.74,22.5139,95.9421,4.59283,95.9879,-52.6957,97.2045,-7.03306,97.2408,20.2122,98.7641,-22.9648,99.1708,-19.2557,99.4279,16.3994,99.4403,-43.1959,100.983,25.1312,101.289,-16.7131,101.323,12.8961,102.048,-61.942,102.46,-32.5085,102.484,-50.6144,103.197,33.9614,103.548,-12.0386,103.554,-23.9284,104.034,-17.0543,104.319,58.4231,104.656,-28.9721,105.43,-27.9348,105.756,-23.8333,105.94,-15.6333,106.027,20.5703,107.098,-26.3932,107.187,-70.4992,107.785,30.2453,107.966,-0.492778,108.703,-26.7727,109.208,-67.9572,109.286,-37.0975,109.523,16.5405,110.031,21.9823,111.024,-29.3031,111.432,27.7983,111.679,49.2116,111.788,8.28942,112.308,-43.3019,113.65,31.8886,113.981,26.896,114.827,5.2275,115.312,-9.55108,115.455,-72.6061,116.112,24.3981,116.331,28.0263,117.257,-24.9123,120.896,-40.0032,121.886,-24.3044,121.983,-68.6171,122.149,-2.98378,122.383,-47.3366,124.129,9.18567,124.63,-76.92,125.016,27.2186,125.629,-59.5095,125.709,43.1884,126.434,-66.1365,127.567,60.7184,129.414,5.70381,129.689,3.34147,130.026,-35.3083,130.073,-52.922,130.154,-59.761,130.806,3.39867,130.822,21.4686,130.898,-33.1864,131.171,18.1549,131.176,-54.7086,131.674,28.76,131.694,6.41892,132.108,5.83789,132.633,-27.7101,133.849,5.94553,134.622,11.8578,134.804,48.0424,135.161,41.7834,135.612,-66.3958,135.907,47.1567,136.632,38.4523,136.999,-43.4326,137.742,-58.9669,138.301,-69.7175,138.591,2.31503,139.273,-59.2752,139.711,36.8029,140.264,34.3925,140.528,-55.0107,141.897,-8.65869,142.287,-2.76894,142.675,-40.4669,142.882,63.0618,142.996,-1.18467,143.218,51.6786,143.556,36.3976,146.463,23.7743,147.749,59.0391,147.869,-14.8466,148.026,54.0643,148.192,26.0071,149.216,-54.5678,149.718,-35.8909,151.833,16.7627,151.857,35.2447,151.985,-0.371639,152.094,11.9672,152.648,-12.3538,153.435,-70.0379,153.684,-42.1221,154.173,23.4173,154.271,-61.3323,154.275,42.9145,154.992,19.8419,155.582,41.4994,156.523,-16.8361,156.788,-31.0678,156.97,-58.7394,156.971,36.7075,157.573,-0.636972,158.868,-78.6078,159.326,-48.2256,160.739,-64.3945,160.885,-60.5666,161.692,-49.4201,162.406,-16.1941,163.328,34.2156,163.373,-58.8533,164.945,-18.2991,165.46,56.3823,165.933,61.7511,167.147,-58.9751,167.416,44.4986,167.915,-22.8256,168.527,20.524,168.56,15.4298,169.836,-14.7791,171.153,-10.8594,171.221,-17.684,172.851,69.3311,173.251,-31.8575,173.69,-54.2641,173.946,-63.0198,174.171,-9.80225,176.191,-18.3506,176.402,-66.7288,176.465,6.52981,176.513,47.7793,177.266,14.5723,178.227,-33.9081,178.457,53.6947,179.004,-17.1508,182.09,-50.7224,182.103,-24.7288,182.531,-22.6198,183.787,-58.7489,183.856,57.0326,183.952,-17.542,184.587,-79.3123,184.668,-0.787139,186.65,-63.0991,186.735,28.2686,187.01,-50.2306,187.467,-16.5151,187.791,-57.1126,188.019,-16.1959,188.117,-72.133,188.371,69.7882,188.438,41.3568,188.597,-23.3966,189.296,-69.1355,190.38,-48.9599,190.417,-1.44953,191.57,-68.1081,191.93,-59.6887,193.507,55.9598,193.902,3.39761,194.008,38.3182,195.545,10.9591,197.264,-23.118,197.498,17.5291,197.97,27.876,199.73,-23.1714,200.15,-36.7121,200.981,54.9254,201.298,-11.1613,202.761,-39.4073,203.674,-0.595944,204.972,-53.4664,206.886,49.3133,207.37,15.7978,207.376,-41.6877,207.404,-42.4737,208.671,18.3986,208.885,-47.2883,209.67,-44.8035,210.412,1.54458,210.956,-60.373,211.098,64.3758,211.672,-36.3687,213.224,-10.2741,213.918,19.1873,214.004,-5.99953,216.545,-45.3792,216.732,-83.6679,217.958,30.3711,218.02,38.3079,218.877,-42.1577,219.472,-49.4258,219.92,-60.8351,220.287,13.7283,220.482,-47.3881,220.628,-64.9746,220.765,-5.65742,221.247,27.0742,221.562,1.89294,221.966,-79.0447,222.677,74.1555,222.72,-16.0416,224.633,-43.1339,224.79,-42.1041,225.487,40.3906,226.018,-25.2819,228.072,-52.0991,228.875,33.3151,229.252,-9.38286,229.379,-58.8009,229.728,-68.6795,230.182,71.834,230.343,-40.6475,230.452,-36.2612,230.844,-59.3207,231.232,58.966,231.958,29.1055,233.232,31.3592,233.672,26.7149,233.701,10.5389,233.785,-41.1667,233.881,-14.7896,234.514,-42.5675,235.686,26.2955,236.014,77.7945,236.067,6.42553,236.547,15.4219,237.185,18.1418,237.399,26.0686,237.405,-3.43014,237.704,4.47758,237.74,-33.6271,238.167,42.45,238.456,-16.7296,238.787,-63.4297,239.112,15.6647,239.397,26.878,239.713,-26.1141,240.031,-38.3966,240.083,-22.6216,240.361,29.8511,240.474,58.5644,240.804,-49.2297,241.359,-19.8054,241.817,-36.7555,243.37,-54.6304,244.377,75.7547,244.58,-4.69261,244.935,46.3133,244.961,-50.1554,245.48,19.153,245.998,61.5141,246.796,-47.5547,247.352,-26.4319,247.555,21.4896,248.364,-78.897,248.526,42.4369,248.971,-28.216,249.29,-10.5671,250.323,31.6019,250.724,38.9225,250.773,-77.5166,251.492,82.0372,252.166,-69.0276,252.446,-59.0413,252.543,-34.2926,252.968,-38.0473,253.499,-42.362,254.418,9.37506,254.655,-55.9901,255.073,30.9263,257.197,65.7146,257.594,-15.7251,258.038,-43.2385,258.758,24.8396,258.762,36.8092,259.418,37.2913,260.207,-12.8469,260.921,37.1459,261.325,-55.5298,261.349,-56.3777,262.608,52.3014,262.685,26.1106,262.775,-60.6836,262.854,-23.9626,262.961,-49.876,263.054,86.5863,263.066,55.1728,263.402,-37.1037,263.733,12.5606,264.33,-42.9978,264.397,-15.3984,264.866,46.0063,265.354,-12.8752,265.622,-39.0299,265.868,4.56692,266.433,-64.7237,266.615,27.7225,266.89,-27.8307,266.896,-40.127,268.382,56.8724,269.063,37.2505,269.152,51.4889,269.441,29.2479,271.452,-30.4236,271.658,-50.0914,271.886,28.7625,272.145,-63.6681,273.441,-21.0588,274.407,-36.7613,275.248,-29.828,275.26,72.7337,275.329,-2.89711,275.807,-61.4939,276.043,-34.3843,276.743,-45.9683,276.993,-25.4212,277.207,-49.07,277.299,-14.5658,278.089,-39.7039,278.802,-8.24331,279.234,38.783,280.759,-71.4277,280.946,-38.3233,281.193,37.6051,281.414,-26.9908,281.794,-4.74783,281.871,-5.70508,282.52,33.3627,283.054,-62.1876,283.626,36.8986,283.68,-15.603,283.816,-26.2966,284.055,4.20353,284.071,-42.7106,284.169,-37.3432,284.238,-67.2335,284.432,-21.1066,284.681,-37.1071,284.736,32.6896,284.906,15.0685,285.653,-29.8801,285.778,-42.095,286.171,-21.7414,286.353,13.8637,286.562,-4.88233,286.604,-37.0628,286.735,-27.6698,287.087,-40.4966,287.368,-37.9043,287.507,-39.3407,288.138,67.6613,289.275,53.3682,289.409,-18.9529,290.418,-17.8472,290.804,-44.7996,290.971,-40.6156,291.374,3.11458,292.177,24.6652,292.426,51.7295,292.68,27.9597,294.007,-24.719,295.024,18.0139,295.262,17.4761,296.244,45.1307,296.565,10.6133,296.847,18.5343,297.043,70.2678,297.695,8.86739,298.118,1.00567,298.815,-41.8684,298.828,6.40794,299.077,35.0835,299.689,19.4921,299.934,-35.2762,300.147,-72.9102,300.275,27.7536,300.664,-27.7099,301.289,19.9909,302.174,-66.1793,302.826,-0.821472,304.513,-12.5449,305.253,-14.7814,305.557,40.2567,306.412,-56.7349,308.303,11.3033,309.387,14.5952,309.392,-47.2917,309.771,15.8382,310.358,45.2803,310.865,15.0747,311.24,-66.2032,311.524,-25.2705,311.552,33.9694,311.665,16.1248,311.919,-9.49569,312.492,-33.7797,312.955,-26.9191,313.702,-58.4541,315.323,-32.2578,316.487,-17.2327,317.585,10.1319,318.234,30.2271,318.62,10.0077,318.956,5.24808,319.484,-32.1725,319.644,62.5854,319.966,-53.4493,320.562,-16.8346,320.723,6.81111,321.61,-65.3681,321.667,-22.4114,322.165,70.5607,322.89,-5.57117,325.022,-16.6623,325.369,-77.3895,326.035,28.7432,326.046,9.875,326.161,25.645,326.76,-16.1266,326.934,-30.8983,328.482,-37.3648,330.209,-28.4538,331.446,-0.319833,331.529,-39.5431,331.609,-13.8695,331.752,25.3451,332.058,-46.9606,332.307,33.1725,332.535,-32.5484,332.549,6.19778,332.714,58.2012,333.992,37.7487,334.208,-7.78325,334.626,-60.2595,335.414,-1.38736,335.89,52.2295,336.129,49.4764,337.207,-0.0200556,337.317,-43.4956,337.383,47.7069,337.622,43.1234,337.662,-10.6779,337.822,50.2824,337.876,-32.346,338.839,-0.117361,340.164,-27.0436,340.365,10.8314,340.666,-46.8846,340.751,30.2213,341.516,-81.3816,341.633,23.5657,341.673,12.1741,342.138,-51.3167,342.398,-13.5925,342.42,66.2007,342.5,24.6017,343.154,-7.57967,343.663,-15.8208,343.987,-32.5397,344.412,-29.6218,345.22,-52.7541,345.943,28.0824,346.19,15.2054,346.72,-43.5203,347.361,-21.1725,347.589,-45.2466,348.972,-9.08769,349.29,3.28225,349.358,-58.2359,349.706,-32.5318,350.743,-20.1003,351.733,1.25583,351.992,6.37911,353.242,-37.8184,354.837,77.632,354.987,5.62736,355.512,1.78042,359.828,6.86358];

var buildConstellations = function() {
    //console.log('buildConstellations()');
    conGroup.clearLayers();
    for (var i in constellation_lines) {
        //console.log('Constellation ' + constellation_shortnames[i]);
        var lines = constellation_lines[i];
        var latlngs = [];
        var clong = map.getCenter().lng;
        var s1 = lines[0];
        var ra1  = constellation_stars[2*s1];
        var long1 = ra2long_C(ra1, clong);
        // duplicate this constellation if the viewpoint is wider than 360 degrees?
    
        for (var j=0; j<lines.length/2; j++) {
    	    var s1 = lines[2*j];
    	    var s2 = lines[2*j+1];
    	    var ra1  = constellation_stars[2*s1];
    	    var dec1 = constellation_stars[2*s1+1];
    	    var ra2  = constellation_stars[2*s2];
    	    var dec2 = constellation_stars[2*s2+1];
            if ((Math.abs(dec1) > 85) && (Math.abs(dec2) > 85)) {
                continue;
            }
            var latlng1 = L.latLng(dec2lat(dec1), ra2long_C(ra1, long1));
            var latlng2 = L.latLng(dec2lat(dec2), ra2long_C(ra2, long1));
    	    latlngs.push([ latlng1, latlng2 ]);
            //if (i == 0) console.log('  line from star ' + s1 + ' to ' + s2 + ', ra,dec ' + ra1 + ',' + dec1 + ' to ' + ra2 + ',' + dec2 + '; latlng ' + latlng1 + ' to ' + latlng2);
        }
        var mpl = L.polyline(latlngs, {'color': constellation_colors[i]});
        conGroup.addLayer(mpl);

        // add a fake Circle marker to hold the label.
        // compute center of mass of stars in this constellation
        ustars = new Set(lines);
        //console.log('Constellation ' + constellation_longnames[i] + ': ' + ustars.size + ' ustars');
        var xc = 0.;
        var yc = 0.;
        var decc = 0.;
        ustars.forEach(function(s) {
            var ra  = Math.PI / 180. * constellation_stars[2*s];
            var dec = Math.PI / 180. * constellation_stars[2*s+1];
            xc += Math.cos(dec) * Math.cos(ra);
            yc += Math.cos(dec) * Math.sin(ra);
            decc += constellation_stars[2*s+1];
        });
        xc /= (ustars.size + 0.0);
        yc /= (ustars.size + 0.0);
        ra  = 180. / Math.PI * Math.atan2(yc, xc);
        dec = decc / (ustars.size + 0.0);

        var latlng = L.latLng(dec2lat(dec), ra2long_C(ra, long1));
        var circ = L.circle(latlng, 0., {'color':'red', 'opacity':0.,
                                         'fillOpacity':0, 'weight':5});
        circ.bindTooltip(constellation_longnames[i],
                         {interactive: true, permanent: true,
                          direction: 'center' });
        conGroup.addLayer(circ);
    }
};

var boundaryGeoJ = 0;

var buildConstellationBoundaries = function() {
    conBoundaryGroup.clearLayers();
    var geojs = [];

    // var bb = map.getBounds();
    // var westmost = bb.getWest();
    // var eastmost = bb.getWest();

    for (var i in constellation_boundaries) {
        //if (constellation_shortnames[i] != 'Oct') {
        //    continue;
        //}
        //console.log('Boundary of ' + constellation_longnames[i]);
        var segments = constellation_boundaries[i];
        var clong = map.getCenter().lng;
        var latlngs = [];
        var display_latlngs = [];
        for (var j in segments) {
            var lines = segments[j];
            var seglatlngs = [];
            var d_seglatlngs = [];

            // Average RA,Dec via xyz
            var x=0.0;
            var y=0.0;
            var N = lines.length/2;
            for (var k=0; k<N; k++) {
    	        var r = lines[2*k]   * Math.PI / 180.0;
    	        var d = lines[2*k+1] * Math.PI / 180.0;
                x += Math.cos(d) * Math.cos(r);
                y += Math.cos(d) * Math.sin(r);
            }
            var rac = Math.atan2(y, x) * 180.0 / Math.PI;
            if (rac < 0)
                rac += 360;
            // South pole special-case!
            if (constellation_shortnames[i] == 'Oct')
                rac = 180.;

            var long1 = ra2long_C(rac, 0.);
            //console.log('Avg RA:', rac);
            //console.log('Avg longitude: ' + long1);
            // assume they all start in...
            var inbounds = true;
            var last_latlng = false;
            for (var k=0; k<lines.length/2; k++) {
    	        var ra1  = lines[2*k];
    	        var dec1 = lines[2*k+1];
                var lng = ra2long_C(ra1, long1);
                var latlng1 = L.latLng(dec2lat(dec1), lng);
                //console.log('RA,Dec ' + ra1 + ', ' + dec1);
                var LIM = 85;
                if (inbounds && Math.abs(dec1) > LIM) {
                    // add the first out-of-bounds one
                    d_seglatlngs.push(latlng1);
                    inbounds = false;
                    //console.log('Going out of bounds.');
                } else if (!inbounds && Math.abs(dec1 < LIM)) {
                    // add the previous out-of-bounds one
                    d_seglatlngs.push(last_latlng);
                    //console.log('Coming back into bounds.');
                    inbounds = true;
                }
                if (inbounds)
                    d_seglatlngs.push(latlng1);
    	        seglatlngs.push(latlng1);
                last_latlng = latlng1;
            }
            // Wrapped-around copies!
            //latlngs.push([seglatlngs]);
            //display_latlngs.push([d_seglatlngs]);
            for (var w=-1; w<=1; w++) {
                wll = []
                for (var k in seglatlngs) {
                    ll = seglatlngs[k];
                    wll.push(L.latLng(ll.lat, ll.lng + 360*w));
                }
                // extra layer of list because Polygon allows holes
                latlngs.push([wll]);
                wll = []
                for (var k in d_seglatlngs) {
                    ll = d_seglatlngs[k];
                    wll.push(L.latLng(ll.lat, ll.lng + 360*w));
                }
                display_latlngs.push([wll]);
            }
        }
        var mpl = L.polygon(display_latlngs, {'color': constellation_colors[i],
                                              'fillOpacity': 0});
        conBoundaryGroup.addLayer(mpl);

        // for getConstellation()
        mpl = L.polygon(latlngs);
        var geoj = mpl.toGeoJSON();
        geoj.properties['name'] = constellation_longnames[i];
        geojs.push(geoj);
    }

    var geo = {type:'FeatureCollection', features:geojs};
    boundaryGeoJ = L.geoJson(geo);
};

var getConstellation = function(ra, dec) {
    var clong = map.getCenter().lng;
    var latlng = L.latLng(dec2lat(dec), ra2long_C(ra, clong));
    return getConstellationLatLng(latlng);
};
var getConstellationLatLng = function(latlng) {
    var inside = leafletPip.pointInLayer(latlng, boundaryGeoJ);
    // should be exactly one match...
    for (var i=0; i<inside.length; i++) {
        return inside[i].feature.properties.name;
    }
    return '(none)';
};

var rebuildConstellations = function() {
    buildConstellations();
    buildConstellationBoundaries();
    conGroup.addLayer(conBoundaryGroup);
};
rebuildConstellations();

// console.log('Constellation(0,0): ' + getConstellation(0, 0));
// console.log('Constellation(359,45): ' + getConstellation(359, 45));
// console.log('Constellation(1,45): ' + getConstellation(1, 45));
// console.log('Constellation(0,90): ' + getConstellation(0, 90));
// console.log('Constellation(0,-90): ' + getConstellation(0, -90));
// console.log('Constellation(0,84): ' + getConstellation(0, 84));
// console.log('Constellation(0,-84): ' + getConstellation(0, -84));
